<?xml version="1.0" ?>
<robot name="dekut_amr" xmlns:xacro="http://www.ros.org/wiki/xacro">

<xacro:include filename="$(find dekut_amr_description)/urdf/materials.xacro" />
<!--xacro:include filename="$(find dekut_amr_description)/urdf/dekut_amr.trans" /> -->
<xacro:include filename="$(find dekut_amr_description)/urdf/dekut_amr.gazebo" />

<!-- Include the ROS 2 control Xacro -->
<!--xacro:include filename="$(find dekut_amr_description)/urdf/ros2_control.xacro"/> -->
<ros2_control name="GazeboSystem" type="system">
  <hardware>
    <plugin>gz_ros2_control/GazeboSimSystem</plugin>
  </hardware>

  <!-- Back-left wheel -->
  <joint name="bl_joint">
    <command_interface name="velocity"/>
    <state_interface name="velocity"/>
    <state_interface name="position"/>
  </joint>

  <!-- Back-right wheel -->
  <joint name="br_joint">
    <command_interface name="velocity"/>
    <state_interface name="velocity"/>
    <state_interface name="position"/>
  </joint>

  <!-- Front-left wheel -->
  <joint name="fl_joint">
    <command_interface name="velocity"/>
    <state_interface name="velocity"/>
    <state_interface name="position"/>
  </joint>

  <!-- Front-right wheel -->
  <joint name="fr_joint">
    <command_interface name="velocity"/>
    <state_interface name="velocity"/>
    <state_interface name="position"/>
  </joint>
</ros2_control>













<link name="base_link">
  <inertial>
    <origin xyz="0.13300586946780998 -3.735532610444361e-17 0.10471614133594144" rpy="0 0 0"/>
    <mass value="61.15997179266559"/>
    <inertia ixx="0.308303" iyy="0.512382" izz="0.610035" ixy="-0.0" iyz="-0.0" ixz="0.032202"/>
  </inertial>
  <visual>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="wheelbl_link_1">
  <inertial>
    <origin xyz="6.938893903907228e-17 0.010504645034502769 -1.3877787807814457e-17" rpy="0 0 0"/>
    <mass value="1.3803967660818925"/>
    <inertia ixx="0.000734" iyy="0.001247" izz="0.000734" ixy="0.0" iyz="-0.0" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.0425 -0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelbl_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.0425 -0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelbl_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="wheelbr_link_1">
  <inertial>
    <origin xyz="6.938893903907228e-17 -0.01050464503450281 -1.3877787807814457e-17" rpy="0 0 0"/>
    <mass value="1.3803967660818925"/>
    <inertia ixx="0.000734" iyy="0.001247" izz="0.000734" ixy="-0.0" iyz="-0.0" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.0425 0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelbr_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.0425 0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelbr_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="wheelfl_link_1">
  <inertial>
    <origin xyz="5.551115123125783e-17 0.010504645034502769 0.0" rpy="0 0 0"/>
    <mass value="1.3803967660818925"/>
    <inertia ixx="0.000734" iyy="0.001247" izz="0.000734" ixy="0.0" iyz="0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.21339 -0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelfl_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.21339 -0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelfl_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="wheelfr_link_1">
  <inertial>
    <origin xyz="5.551115123125783e-17 -0.01050464503450281 0.0" rpy="0 0 0"/>
    <mass value="1.3803967660818925"/>
    <inertia ixx="0.000734" iyy="0.001247" izz="0.000734" ixy="-0.0" iyz="-0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.21339 0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelfr_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.21339 0.109 -0.0425" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/wheelfr_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="lidar_link_1">
  <inertial>
    <origin xyz="2.7755575615628914e-17 6.391374769427968e-18 0.011555000000000037" rpy="0 0 0"/>
    <mass value="0.6981609656059645"/>
    <inertia ixx="0.000245" iyy="0.000245" izz="0.000428" ixy="0.0" iyz="0.0" ixz="0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.05464 -0.0 -0.20009" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/lidar_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.05464 -0.0 -0.20009" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/lidar_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<link name="camera_link_1">
  <inertial>
    <origin xyz="0.0018785799726894203 7.125265209961044e-14 0.0005397086909801063" rpy="0 0 0"/>
    <mass value="0.04690232700887753"/>
    <inertia ixx="1.6e-05" iyy="3e-06" izz="1.3e-05" ixy="0.0" iyz="-0.0" ixz="-0.0"/>
  </inertial>
  <visual>
    <origin xyz="-0.10978 -0.0 -0.184974" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/camera_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
    <material name="silver"/>
  </visual>
  <collision>
    <origin xyz="-0.10978 -0.0 -0.184974" rpy="0 0 0"/>
    <geometry>
      <mesh filename="file://$(find dekut_amr_description)/meshes/camera_link_1.stl" scale="0.001 0.001 0.001"/>
    </geometry>
  </collision>
</link>

<joint name="bl_joint" type="continuous">
  <origin xyz="0.0425 0.109 0.0425" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="wheelbl_link_1"/>
  <axis xyz="0.0 1.0 0.0"/>
</joint>

<joint name="br_joint" type="continuous">
  <origin xyz="0.0425 -0.109 0.0425" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="wheelbr_link_1"/>
  <axis xyz="0.0 1.0 0.0"/>
</joint>

<joint name="fl_joint" type="continuous">
  <origin xyz="0.21339 0.109 0.0425" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="wheelfl_link_1"/>
  <axis xyz="0.0 1.0 0.0"/>
</joint>

<joint name="fr_joint" type="continuous">
  <origin xyz="0.21339 -0.109 0.0425" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="wheelfr_link_1"/>
  <axis xyz="0.0 1.0 0.0"/>
</joint>

<joint name="lidar_joint" type="fixed">
  <origin xyz="0.05464 0.0 0.20009" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="lidar_link_1"/>
</joint>

<joint name="camera_joint" type="fixed">
  <origin xyz="0.10978 0.0 0.184974" rpy="0 0 0"/>
  <parent link="base_link"/>
  <child link="camera_link_1"/>
</joint>

</robot>